# LinkCutter
Тестовое задание от OZON

<img src="https://wakatime.com/badge/user/ee2709af-fc5f-498b-aaa1-3ea47bf12a00/project/25fee5f7-6da5-4ffb-a648-6b96f1a9ee38.svg?style=for-the-badge">

# Задание

Необходимо реализовать сервис, который должен предоставлять API по созданию сокращенных ссылок следующего формата:
- Ссылка должна быть уникальной и на один оригинальный URL должна ссылаться только одна сокращенная ссылка.
- Ссылка должна быть длинной 10 символов
- Ссылка должна состоять из символов латинского алфавита в нижнем и верхнем регистре, цифр и символа _ (подчеркивание)


Сервис должен быть написан на Go и принимать следующие запросы по http:
1. Метод Post, который будет сохранять оригинальный URL в базе и возвращать сокращённый
2. Метод Get, который будет принимать сокращённый URL и возвращать оригинальный URL

Решение должно быть предоставлено в «конечном виде», а именно:
- Сервис должен быть распространён в виде Docker-образа
- В качестве хранилища ожидается использовать in-memory решение И postgresql. Какое хранилище использовать указывается параметром при запуске сервиса.
- Покрыть реализованный функционал Unit-тестами

**Пример 1**

Реквест:

```
curl --request POST --data '{"url" : "ozon.ru"}' http://localhost:8080/
```

Респонс:

```
   {"url":"eLTSOnefTX"}
```

**Пример 2**

Реквест:

```
curl --request GET --data '{"url" : "eLTSOnefTX"}' http://localhost:8080/
```

Респонс:

```
   {"url":"ozon.ru"}
```

# Запуск

**Запуск на текущей машине с PostgreSQL**

```
make build
make run_db
```

**Запуск на текущей машине с In-Memory хранилищем** 

```
make build
make run_im
```
**Запуск в docker контейнере с In-Memory хранилищем** 

```
make docker_build_im
make docker_run_im
```
**Запуск в docker контейнере с PostgreSQL** 

```
make docker_build_db
make docker_run_db
```


